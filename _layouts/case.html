---
layout: default
---

<section class="case-page">
  <header class="case-header">
    <h1>{{ page.title }}</h1>

    <dl class="case-meta">
      {% if page.court %}
        <dt>Court</dt>
        <dd>{{ page.court }}</dd>
      {% endif %}

      {% if page.docket %}
        <dt>Docket</dt>
        <dd>{{ page.docket }}</dd>
      {% endif %}

      {% if page.case_type %}
        <dt>Case Type</dt>
        <dd>{{ page.case_type }}</dd>
      {% endif %}

      {% if page.status %}
        <dt>Status</dt>
        <dd>{{ page.status }}</dd>
      {% endif %}

      {% if page.filed %}
        <dt>Filed</dt>
        <dd>{{ page.filed | date: "%B %-d, %Y" }}</dd>
      {% endif %}

      {% if page.next_event %}
        <dt>Next Event</dt>
        <dd>
          {% if page.next_event.label and page.next_event.date %}
            {{ page.next_event.label }} on {{ page.next_event.date | date: "%B %-d, %Y" }}
          {% else %}
            {{ page.next_event }}
          {% endif %}
        </dd>
      {% endif %}

      {% if page.judge %}
        <dt>Judge</dt>
        <dd>{{ page.judge }}</dd>
      {% endif %}
    </dl>
  </header>

  {% if page.summary %}
    <section class="case-summary">
      <h2>Summary</h2>
      <p>{{ page.summary }}</p>
    </section>
  {% endif %}

  {% assign all_docs = page.filings | default: page.documents %}

  {% if all_docs %}
    <section class="case-filings">
      <h2>Key Filings</h2>
      <ul>
        {% for filing in all_docs %}
          <li>
            {% if filing.date %}
              <strong>{{ filing.date | date: "%m/%d/%Y" }}:</strong>
            {% endif %}
            {{ filing.label }}
          </li>
        {% endfor %}
      </ul>
    </section>

    <section class="case-public-files">
      <h2>Public Filings (Redacted)</h2>
      <ul>
        {% for filing in all_docs %}
          {% if filing.file or filing.path %}
            <li>
              <a href="{{ filing.path | default: page.assets_path | append: filing.file | relative_url }}">
                {{ filing.label }} (PDF)
              </a>
            </li>
          {% endif %}
        {% endfor %}
      </ul>
      <p class="text-muted">
        All documents displayed are public filings; personal or sealed materials are withheld.
      </p>
    </section>

  {% elsif page.assets_path %}
    {% comment %}
      Fallback: auto-discover PDFs under this caseâ€™s asset folder
    {% endcomment %}
    {% assign case_docs = site.static_files
       | where_exp: "f", "f.path contains page.assets_path and f.extname == '.pdf'" %}
    {% assign case_docs = case_docs | sort: "path" %}

    {% if case_docs.size > 0 %}
      <section class="case-public-files">
        <h2>Public Filings</h2>
        <ul>
          {% for file in case_docs %}
            {% assign filename = file.name %}
            {% assign basename = filename | split: "." | first %}
            {% assign label = basename | replace: "-", " " %}

            <li>
              <a href="{{ file.path | relative_url }}">
                {{ label | capitalize }} (PDF)
              </a>
            </li>
          {% endfor %}
        </ul>
        <p class="text-muted">
          This list is generated automatically from {{ page.assets_path }}.
          Uploaded public filings will appear here after each site rebuild.
        </p>
      </section>
    {% endif %}
  {% endif %}

  <section class="case-body">
    {{ content }}
  </section>
</section>
